<!doctype html>
<title>Resources - WarcBot</title>
<div id="myTable">
</div>

<style>
    html, body {
        height: 100%;
        padding: 0;
        margin: 0;
    }
    body {
        font-family: sans-serif;
    }
</style>
<script type="module">
    import {WarcBotTabulator, formatSize} from "./tables.js";

    const table = new WarcBotTabulator("#myTable", {
        ajaxURL: '/api/frontier',
        filterMode: 'remote',
        height: '100%',
        layout: "dataFill",
        pagination: true,
        paginationMode: "remote",
        paginationCounter:"rows",
        paginationSize: 100,
        sortMode: "remote",
        persistence: {
            sort: true
        },
        columns: [
            {title: "Queue", field: "queue"},
            {title: "Depth", field: "depth", headerFilter: 'number', headerFilterParams: {min: 0}},
            {title: "State", field: "state", headerFilter: 'list',
                headerFilterParams: {values: [{label: '\xa0', value: ''}, 'PENDING', 'IN_PROGRESS', 'CRAWLED', 'FAILED', 'ROBOTS_EXCLUDED']}},
            {title: "URL",  field: "url"},
            {title: "Via",  field: "via"},
        ],
    });
</script>
